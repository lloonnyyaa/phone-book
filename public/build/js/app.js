(window.webpackJsonp=window.webpackJsonp||[]).push([["js/app"],{aual:function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,d=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,d=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw d}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a,r=document.location.href+"api/",d=new XMLHttpRequest,s=document.getElementById("answer-wrapper-all"),o=document.getElementById("answer-wrapper-single"),i=document.getElementById("get-all-contacts"),l=document.getElementById("get-single-contact"),u=document.getElementById("add-phone-number");document.getElementById("new-contact-form").addEventListener("submit",function(e){e.preventDefault(),sendForm(this)}),i.onclick=function(){s.innerHTML="",d.open("GET",r+"users",!0),d.send(),d.onreadystatechange=function(){if(4==d.readyState)if(200!=d.status)alert(d.status+": "+d.responseText);else{a=JSON.parse(d.responseText);var e=!0,t=!1,n=void 0;try{for(var o,i=a[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var l=o.value,u=document.createElement("div");u.classList.add("border"),u.classList.add("p-2");var c=document.createElement("p");c.classList.add("font-weight-bold");var p=document.createElement("ul"),m=document.createElement("a");m.classList.add("btn"),m.classList.add("btn-danger"),m.setAttribute("href",r+"users/"+l.id),m.appendChild(document.createTextNode("Delete this contact")),c.appendChild(document.createTextNode(l.name)),u.appendChild(c),u.appendChild(document.createTextNode("Phones:"));var f=!0,h=!1,v=void 0;try{for(var y,b=l.phones[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var E=y.value,g=document.createElement("li");g.appendChild(document.createTextNode(E.number)),p.appendChild(g)}}catch(e){h=!0,v=e}finally{try{f||null==b.return||b.return()}finally{if(h)throw v}}u.appendChild(p),u.appendChild(m),s.appendChild(u),m.addEventListener("click",function(e){e.preventDefault(),deleteContact(this)})}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}}},l.onclick=function(){o.innerHTML="";var e=document.getElementById("name-single").value;if(!e)return alert("fill name"),!1;d.open("GET",r+"users/"+e,!0),d.send(),d.onreadystatechange=function(){if(4==d.readyState)if(200!=d.status)alert(d.status+": "+d.responseText);else{a=JSON.parse(d.responseText);var e=document.createElement("form");e.classList.add("p-2"),e.setAttribute("id","edit-contact-form");var t=document.createElement("button");t.classList.add("btn"),t.classList.add("btn-success"),t.setAttribute("type","submit"),t.setAttribute("id","edit-button"),t.appendChild(document.createTextNode("Edit"));var n=document.createElement("div");n.classList.add("form-group");var r=document.createElement("input");r.classList.add("form-control"),r.setAttribute("type","text"),r.setAttribute("name","name"),r.value=a.name;var s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name","id"),s.value=a.id;var i=document.createElement("button");i.classList.add("btn"),i.classList.add("btn-secondary"),i.appendChild(document.createTextNode("add number")),n.appendChild(r),e.appendChild(n),e.appendChild(document.createTextNode("Phones: ")),e.appendChild(i);var l=!0,u=!1,c=void 0;try{for(var p,m=a.phones[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var f=p.value,h=document.createElement("input");h.classList.add("form-control"),h.setAttribute("type","text"),h.setAttribute("name","phones["+f.id+"][number]"),h.value=f.number;var v=document.createElement("a");v.setAttribute("href","#"),v.classList.add("remove-number"),v.appendChild(document.createTextNode("delete number"));var y=document.createElement("div");y.classList.add("form-group"),y.appendChild(h),y.appendChild(v),e.appendChild(y),0,v.addEventListener("click",function(e){e.preventDefault(),deleteNumber(this)})}}catch(e){u=!0,c=e}finally{try{l||null==m.return||m.return()}finally{if(u)throw c}}e.appendChild(s),e.appendChild(t),o.appendChild(e),e.addEventListener("submit",function(e){e.preventDefault(),sendEditForm(this)}),i.addEventListener("click",function(e){e.preventDefault(),addNumber(this)})}}},u.onclick=function(){var e=document.getElementsByClassName("clone")[0].cloneNode(!0);document.getElementById("phone-numbers-wrapper").appendChild(e)},sendForm=function(e){var t,s=new FormData(e),o={},i=[],l=!0,u=!1,c=void 0;try{for(var p,m=s.entries()[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var f=n(p.value,2),h=f[0],v=f[1],y={};(t=h.match(/\[]\[(\w+)\]/))?(y[t[1]]=v,i.push(y)):o[h]=v}}catch(e){u=!0,c=e}finally{try{l||null==m.return||m.return()}finally{if(u)throw c}}o.phones=i,d.open("POST",r+"users",!0),d.setRequestHeader("Content-Type","application/json"),d.send(JSON.stringify(o)),d.onreadystatechange=function(){4==d.readyState&&(201!=d.status?alert(d.status+": "+d.responseText):(a=JSON.parse(d.responseText),e.reset(),alert(a.message)))}},sendEditForm=function(e){var t,s,i=new FormData(e),l={},u=[],c=!0,p=!1,m=void 0;try{for(var f,h=i.entries()[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var v=n(f.value,2),y=v[0],b=v[1],E={};t=y.match(/\[(\d+)]\[(\w+)\]/),s=y.match(/\[]\[(\w+)\]/),t?(E.id=t[1],E.number=b,u.push(E)):s?(E[s[1]]=b,u.push(E)):l[y]=b}}catch(e){p=!0,m=e}finally{try{c||null==h.return||h.return()}finally{if(p)throw m}}l.phones=u,d.open("PUT",r+"users/"+l.id,!0),d.setRequestHeader("Content-Type","application/json"),d.send(JSON.stringify(l)),d.onreadystatechange=function(){4==d.readyState&&(201!=d.status?alert(d.status+": "+d.responseText):(a=JSON.parse(d.responseText),e.reset(),o.innerHTML="",alert(a.message)))}},deleteContact=function(e){d.open("DELETE",e.href,!0),d.send(),d.onreadystatechange=function(){4==d.readyState&&(200!=d.status?alert(d.status+": "+d.responseText):(a=JSON.parse(d.responseText),e.parentNode.remove(),alert(a.message)))}},deleteNumber=function(e){e.parentNode.remove()},addNumber=function(e){var t=e.parentNode,n=document.createElement("input");n.classList.add("form-control"),n.setAttribute("type","text"),n.setAttribute("name","phones[][number]");var a=document.createElement("div");return a.classList.add("form-group"),a.appendChild(n),t.insertBefore(a,document.getElementById("edit-button")),!1}},ng4s:function(e,t,n){"use strict";n.r(t);n("aual");n("EVdn"),n("SYky")}},[["ng4s","runtime",0]]]);